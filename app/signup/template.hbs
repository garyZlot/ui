{{#authorize-user}}
  {{top-errors errors=errors}}
  {{#if showReset}}
    {{#link-to 'login' (query-params resetPassword=true) classNames="inline-block mb-10"}}Reset Password{{/link-to}}
  {{/if}}
  {{#if registerSucc}}
    <div class="row" style="max-width: 500px;">
      <div class="col span-12 text-center">
        <h1>{{t 'signupPage.registerSuccess.header' appName=settings.appName}}</h1>
        <p>{{t 'signupPage.registerSuccess.confirm.subtext'}}</p>
      </div>
      {{#if loading}}
        <button class="btn bg-primary mt-10 btn-disabled"><i class="icon icon-spinner icon-spin"></i> {{t 'generic.loading'}}</button>
      {{else}}
        <button class="btn bg-primary mt-10" name="submit" {{action "cancel"}}>{{t 'signupPage.registerSuccess.confirm.oktext'}}</button>
      {{/if}}
    </div>
  {{else}}
    <div>
      <h1>{{t 'signupPage.header' appName=settings.appName}}</h1>
      <form class="form text-left"  {{action "register" on='submit'}}>
        <div class="row">
          <label for="login-user-name">{{t 'signupPage.form.labels.loginUsername'}}{{field-required}}</label>
          <div name="login-user-name">
            {{input type="text" value=model.name}}
          </div>
        </div>

        <div class="row inline-form pt-15">
          <label for="email">{{t 'signupPage.form.labels.email'}}{{field-required}}</label>
          <div name="email">
            {{input type="email" value=model.email}}
          </div>
        </div>

        <div class="row inline-form pt-15">
          <label for="code">{{t 'signupPage.form.labels.code'}}{{field-required}}</label>
          <div name="code" class="input-group ember-view">
            {{input type="text" value=model.code classNames="form-control"}}
            <span class="input-group-btn">
              <button class="bg-primary" type="button" id="getCodeBtn" {{action "getEmailCode"}}>{{t 'signupPage.form.codeButton'}}</button>
            </span>
          </div>
        </div>

        <div class="row inline-form pt-15">
          <label for="password">{{t 'signupPage.form.labels.password'}}{{field-required}}</label>
          <div name="password">
            {{input type="password" value=model.password}}
          </div>
        </div>
        <div class="text-center mt-15">
          {{save-cancel save="register" cancel="cancel" saving=saving createLabel='signupPage.form.button' saveDisabled=saveDisabled}}
        </div>
      </form>
    </div>
  {{/if}}
{{/authorize-user}}
